<?xml version="1.0" encoding="UTF-8"?>
<definitions id="definitions"
             targetNamespace="http://activiti.org/bpmn20"
             xmlns:activiti="http://activiti.org/bpmn"
             xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL">

    <process id="assignEngineer" name="assign a reported incident to an engineer">
        <startEvent id="anEngineerAssigned"/>

        <sequenceFlow id="toResolveIncident" sourceRef="anEngineerAssigned" targetRef="resolveIncident"/>

        <userTask id='resolveIncident' name='resolve the incident' activiti:dueDate="${dueDate}">
            <documentation>
                ${incident.severity.value} Problem by ${incident.createdBy}: ${incident.description}
            </documentation>
            <humanPerformer>
                <resourceAssignmentExpression>
                    <formalExpression>${incident.assignedTo}</formalExpression>
                </resourceAssignmentExpression>
            </humanPerformer>
        </userTask>

        <sequenceFlow id="toAssignmentCompleted" sourceRef="resolveIncident" targetRef="assignmentCompleted" />

        <endEvent id="assignmentCompleted" />
    </process>
</definitions>